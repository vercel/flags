---
title: Confidence by Spotify
description: Use Confidence by Spotify with the Flags SDK
---

{/*
  DO NOT EDIT THIS FILE DIRECTLY. IT IS AUTO-GENERATED.

  Use pnpm generate-openfeature-providers to generate all OpenFeature providers.
*/}

Confidence by Spotify can be used with the Flags SDK through OpenFeature.
Set up the [Flags SDK adapter for OpenFeature](/providers/openfeature),
along with the [Confidence by Spotify OpenFeature provider](https://github.com/spotify/confidence-sdk-js) to get started.



## Installation

Install the following packages:

```bash
npm install flags @flags-sdk/openfeature @spotify-confidence/openfeature-server-provider
```

## Setup

Set up your [Confidence by Spotify OpenFeature provider](https://github.com/spotify/confidence-sdk-js) as a Flags SDK adapter.

```ts
// adapter.ts
import { OpenFeature } from "@openfeature/server-sdk";
import { createOpenFeatureAdapter } from "@flags-sdk/openfeature";
import { createConfidenceServerProvider } from '@spotify-confidence/openfeature-server-provider';

const provider = createConfidenceServerProvider({
  clientSecret: 'your-client-secret',
  fetchImplementation: fetch,
  timeout: 1000,
});

OpenFeature.setProvider(provider);
export const openFeatureAdapter = createOpenFeatureAdapter(OpenFeature.getClient());
```

See the [OpenFeature adapter](/providers/openfeature) for more details.

## Usage

Use your newly configured adapter when declaring flags.

```ts
// flags.ts
import { flag } from "flags/next";
import type { EvaluationContext } from "@openfeature/server-sdk";
import { openFeatureAdapter } from "./adapter";

export const exampleFlag = flag<boolean, EvaluationContext>({
  key: "example-flag",
  defaultValue: false,
  adapter: openFeatureAdapter.booleanValue(),
});
```

## Resources

<LearnMore
  icon="arrow"
  href="/providers/openfeature"
>
  Flags SDK adapter for OpenFeature
</LearnMore>


<LearnMore
  icon="arrow"
  href="https://github.com/spotify/confidence-sdk-js"
  target="_blank"
>
  Confidence by Spotify OpenFeature Provider
</LearnMore>


_Note that OpenFeature providers may require additional configuration for optimal performance and compatibility. Setup instructions are provided on a best effort basis. Refer to each provider's own documentation._

_If there is a native Flags SDK adapter for your provider, we recommend using that instead.
Native Flags SDK adapters tune your flag provider's SDK for optimal performance and integrate with Flags Explorer and Edge Config.
See [available adapters](/docs/adapters/supported-providers#adapters)._

_If you are a feature flag provider interested in developing a native adapter please [open a GitHub issue](https://github.com/vercel/flags) to get in touch._

