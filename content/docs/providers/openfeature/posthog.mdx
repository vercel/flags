---
title: PostHog
description: Use PostHog with the Flags SDK
---

{/*
  DO NOT EDIT THIS FILE DIRECTLY. IT IS AUTO-GENERATED.

  Use pnpm generate-openfeature-providers to generate all OpenFeature providers.
*/}

import { LearnMore } from '@/components/learn-more';

PostHog can be used with the Flags SDK through OpenFeature.
Set up the [Flags SDK adapter for OpenFeature](/providers/openfeature),
along with the [PostHog OpenFeature provider](https://www.npmjs.com/package/@tapico/node-openfeature-posthog) to get started.

_**This provider has a native adapter available at [@flags-sdk/posthog](/providers/posthog), which you should use instead**_.

## Installation

Install the following packages:

```bash
npm install flags @flags-sdk/openfeature @tapico/node-openfeature-posthog
```

## Setup

Set up your [PostHog OpenFeature provider](https://www.npmjs.com/package/@tapico/node-openfeature-posthog) as a Flags SDK adapter.

```ts
// adapter.ts
import { OpenFeature } from "@openfeature/server-sdk";
import { createOpenFeatureAdapter } from "@flags-sdk/openfeature";
import { PostHogProvider } from "@tapico/node-openfeature-posthog";

export const openFeatureAdapter = createOpenFeatureAdapter(async () => {
  const provider = new PostHogProvider(/* ... */);
  await OpenFeature.setProviderAndWait(provider);
  return OpenFeature.getClient();
});
```

See the [OpenFeature adapter](/providers/openfeature) for more details.

## Usage

Use your newly configured adapter when declaring flags.

```ts
// flags.ts
import { flag } from "flags/next";
import type { EvaluationContext } from "@openfeature/server-sdk";
import { openFeatureAdapter } from "./adapter";

export const exampleFlag = flag<boolean, EvaluationContext>({
  key: "example-flag",
  defaultValue: false,
  adapter: openFeatureAdapter.booleanValue(),
});
```

## Resources

<LearnMore
  icon="arrow"
  href="/providers/openfeature"
>
  Flags SDK adapter for OpenFeature
</LearnMore>


<LearnMore
  icon="arrow"
  href="https://www.npmjs.com/package/@tapico/node-openfeature-posthog"
  target="_blank"
>
  PostHog OpenFeature Provider
</LearnMore>


_Note that OpenFeature providers may require additional configuration for optimal performance and compatibility. Setup instructions are provided on a best effort basis. Refer to each provider's own documentation._

_If there is a native Flags SDK adapter for your provider, we recommend using that instead.
Native Flags SDK adapters tune your flag provider's SDK for optimal performance and integrate with Flags Explorer and Edge Config.
See [available adapters](/docs/adapters/supported-providers#adapters)._

_If you are a feature flag provider interested in developing a native adapter please [open a GitHub issue](https://github.com/vercel/flags) to get in touch._

